<div class="container-fluid py-4">
    <div class="row mb-4">
      <div class="col-lg-9 col-md-9 mb-md-0 mb-4">
        <div class="card">
          <div class="card-header pb-0">
            <div class="row">
              <div class="col-lg-6 col-7" >
                <h6 id="finansalTitle">Finansal Durum</h6>
                <p class="text-sm mb-0">
                  <i class="fa fa-check text-info" aria-hidden="true"></i>
                  <span class="font-weight-bold ms-1">{{total}} </span> kayıt bulunuyor.
                </p>
              </div>
              <div class="col-lg-6 col-5 my-auto text-end">
                
              </div>
            </div>
          </div>
          <div class="card-body px-0 pb-2">
  
            <div class="table-responsive">
              <table mat-table [dataSource]="dataSource" class="table align-items-center mb-0">
                <div class="data-table">
                  <ng-container matColumnDef="aciklama">
                    <th mat-header-cell class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                      *matHeaderCellDef>Açıklama</th>
                    <td mat-cell *matCellDef="let element">{{element.aciklama}}</td>
                  </ng-container>
                  <ng-container matColumnDef="odemeAlan">
                    <th mat-header-cell class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                      *matHeaderCellDef>Odeme Alan</th>
                    <td mat-cell *matCellDef="let element">{{element.odemeAlan}}</td>
                  </ng-container>

                  <ng-container matColumnDef="odeyenTelefon">
                    <th mat-header-cell class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                      *matHeaderCellDef>Odeyen Telefon</th>
                    <td mat-cell *matCellDef="let element">{{element.odeyenTelefon}}</td>
                  </ng-container>
                  <ng-container matColumnDef="tutar"  id="tutar">
                    <th mat-header-cell class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                      *matHeaderCellDef>Tutar</th>
                    <td mat-cell *matCellDef="let element">{{element.tutar  | currency:'TRY':'symbol-narrow':'1.2-2'}}</td>
                  </ng-container>

                  <ng-container matColumnDef="odeyen">
                    <th mat-header-cell class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                      *matHeaderCellDef>Odeyen</th>
                    <td mat-cell *matCellDef="let element"
                    >{{element.odeyen }}</td>
                  </ng-container>
                  <ng-container matColumnDef="tip">
                    <th mat-header-cell class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                      *matHeaderCellDef>Tip</th>
                    <td mat-cell *matCellDef="let element"
                    >{{element.tip }}</td>
                  </ng-container>
                  <ng-container matColumnDef="createDateTime">
                    <th mat-header-cell class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                      *matHeaderCellDef>Odeme Tarihi</th>
                    <td mat-cell *matCellDef="let element">
                    {{element.createDateTime | date :'medium' }}
                </td>
                  </ng-container>
          
                 
                  <ng-container matColumnDef="duzenle">
                    <th mat-header-cell class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                      *matHeaderCellDef>Düzenle</th>
                    <td mat-cell *matCellDef="let element">
                          <a class="cursor-pointer" id="dropdownTable" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fa fa-ellipsis-v text-secondary"></i>
                          </a>
                          <ul class="dropdown-menu px-2 py-3 ms-sm-n4 ms-n5" aria-labelledby="dropdownTable">
                            <li><button class="dropdown-item border-radius-md" (click)="deleteSubmit(element)">Sil</button></li>
                            <li><button class="dropdown-item border-radius-md" (click)="updateSubmit(element)">Düzenle</button></li>
                            
                          </ul>
                    
                    </td>
                  </ng-container>
                </div>
                <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky:true"></tr>
                <tr mat-row *matRowDef="let row;columns:displayedColumns;"></tr>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6" id="rightSide3" style="max-height:600px;">
        <div class="card h-100">
          <div class="card-header pb-0">
            <i class="material-icons text-success text-gradient">account_box</i>
            <h5 style="display:contents;" id="formHead">&emsp;Finansal Kayıt Ekle</h5>
          </div>
          <div class="card-body p-3">
            <form  class="text-start" role="form" [formGroup]="finAddForm">
            <div class="timeline timeline-one-side" id="rightSidebar">
              <div class="timeline-block mb-3">
                <span class="timeline-step">
                  <i class="material-icons text-success text-gradient">comment</i>
                </span>
                <div class="timeline-content input-group input-group-outline my-2" (click)="clickEv1($event)"
                [ngClass]="status1 ? 'is-focused' : 'danger'"> 
                    <label class="form-label">Açıklama</label>
                    <input class="form-control" matInput formControlName="aciklama">
                </div>
              </div>
              <div class="timeline-block mb-3">
                <span class="timeline-step">
                  <i class="material-icons text-success text-gradient">perm_identity</i>
                </span>
                <div class="timeline-content input-group input-group-outline my-2" (click)="clickEv2($event)"
                [ngClass]="status2 ? 'is-focused' : 'danger'">
                    <label class="form-label">Odeme Alan</label>
                    <input class="form-control" matInput formControlName="odemeAlan">
                </div>
              </div>

              <div class="timeline-block mb-3">
                <span class="timeline-step">
                  <i class="material-icons text-success text-gradient">call</i>
                </span>
                <div class="timeline-content input-group input-group-outline my-2" (click)="clickEv3($event)"
                [ngClass]="status3 ? 'is-focused' : 'danger'">
                    <label class="form-label">Odeyen Telefon</label>
                    <input class="form-control" matInput formControlName="odeyenTelefon">
                </div>
              </div>

              <div class="timeline-block mb-3">
                <span class="timeline-step">
                  <i class="material-icons text-success text-gradient">attach_money</i>
                </span>
                <div class="timeline-content input-group input-group-outline my-2" (click)="clickEv4($event)"
                [ngClass]="status4 ? 'is-focused' : 'danger'">
                    <label class="form-label">Tutar</label>
                    <input class="form-control" matInput formControlName="tutar">
                </div>
              </div>
              <div class="timeline-block mb-3">
                <span class="timeline-step">
                  <i class="material-icons text-success text-gradient">perm_identity</i>
                </span>
                <div class="timeline-content input-group input-group-outline my-2" (click)="clickEv5($event)"
                [ngClass]="status5 ? 'is-focused' : 'danger'">
                    <label class="form-label">Odeyen</label>
                    <input class="form-control" matInput formControlName="odeyen">
                </div>
              </div>
              <div class="timeline-block mb-3">
                <span class="timeline-step">
                  <i class="material-icons text-success text-gradient">attach_money</i>
                </span>
                <div class="timeline-content input-group input-group-outline my-2" >
                    <mat-radio-group formControlName="tip">
                        <mat-radio-button value="Gelir"  [checked]="finAddForm.get('tip').value==='Gelir'">Gelir</mat-radio-button>
                    </mat-radio-group>
                    <mat-radio-group formControlName="tip">
                        <mat-radio-button value="Gider"  [checked]="finAddForm.get('tip').value==='Gider'">Gider</mat-radio-button>
                    </mat-radio-group>
                </div>
              </div>
            </div>
          </form>
          </div>
          <div class="text-center">
            <button type="submit" id="btnAdd" class="btn bg-gradient-primary w-50 my-4 mb-2"
            (click)="handleSubmit()" [disabled]="!(finAddForm.valid && finAddForm.dirty)">
            <mat-icon style="font-size:21px;">add_circle</mat-icon>Ekle</button>
          </div>
        </div>
      </div>
    </div>
    <div class="row" id="rowGelir">
      <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
        <div class="card">
          <div class="card-header p-3 pt-2">
            <div class="icon icon-lg icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4 position-absolute">
              <i class="material-icons opacity-10">add</i>
            </div>
            <div class="text-end pt-1">
              <p class="text-sm mb-0 text-capitalize"></p>
              <h4 class="mb-0" id ="gelirToplam">{{gelir}} ₺</h4>
            </div>
          </div>
          <hr class="dark horizontal my-0">
          <div class="card-footer p-3">
            <p class="mb-0"><span class="text-success text-sm font-weight-bolder">Gelir Durumu </span></p>
          </div>
        </div>
      </div>
      
      <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
        <div class="card">
          <div class="card-header p-3 pt-2">
            <div class="icon icon-lg icon-shape bg-gradient-success shadow-success text-center border-radius-xl mt-n4 position-absolute">
              <i class="material-icons opacity-10">remove</i>
            </div>
            <div class="text-end pt-1">
              <h4 class="mb-0">{{gider}} ₺</h4>
            </div>
          </div>
          <hr class="dark horizontal my-0">
          <div class="card-footer p-3">
            <p class="mb-0"><span class="text-danger text-sm font-weight-bolder">Gider Durumu</span></p>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
        <div class="card">
          <div class="card-header p-3 pt-2">
            <div class="icon icon-lg icon-shape bg-gradient-info shadow-info text-center border-radius-xl mt-n4 position-absolute">
              <i class="material-icons opacity-10">unfold_more</i>
            </div>
            <div class="text-end pt-1">
              <h4 class="mb-0">{{gelir-gider}} ₺</h4>
            </div>
          </div>
          <hr class="dark horizontal my-0">
          <div class="card-footer p-3">
            <p class="mb-0"><span class="text-info text-sm font-weight-bolder">Kar/Zarar Durumu</span></p>
          </div>
        </div>
      </div>
  
    </div>
    <footer class="footer py-4  ">
      <div class="container-fluid">
        <div class="row align-items-center justify-content-lg-between">
        </div>
      </div>
    </footer>
  </div>